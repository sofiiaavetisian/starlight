{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Starlight — Satellite Tracker</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'satellites/home.css' %}?v=3" />
</head>
<body>
  <div id="stars"></div>
  <header class="site-header">
    <nav>
      <a href="{% url 'catalog' %}">Catalog</a>
      <a href="#how">How it works</a>
      {% if user.is_authenticated %}
        <a href="{% url 'favorites' %}">Favorites</a>
      {% endif %}
      {% if user.is_authenticated %}
        <form action="{% url 'logout' %}" method="post" class="logout-form">
          {% csrf_token %}
          <button type="submit" class="logout-link">Logout</button>
        </form>
      {% else %}
        <a href="{% url 'login' %}">Login</a>
      {% endif %}
    </nav>
  </header>

  <main class="hero">
    <section class="hero-content">
      <div class="hero-brand">Starlight</div>
      <h1>Track satellites beautifully</h1>
      <p class="subtitle">Beginner‑friendly tracking with clear explanations and favorites.</p>
      <form class="search" action="{% url 'catalog-search' %}" method="get">
        <input type="text" name="search" placeholder="Search by name or NORAD ID" aria-label="Search satellites" />
        <button type="submit">Search</button>
      </form>
      <div class="cta-row">
        <a class="link" href="{% url 'catalog' %}">Browse catalog →</a>
      </div>
    </section>
    <section class="visual">
      <div class="globe" aria-hidden="true">
        <div class="earth"></div>
        <div class="glow"></div>
      </div>
    </section>
  </main>

  <section id="how" class="how">
    <h2>How it works</h2>
    <p>
      I wanted the app to explain the “space math” without sounding like a textbook, so here’s the short version.
    </p>
    <p>
      Every satellite has two lines of numbers called a TLE. They hide things like the orbit tilt, how squished
      the path is, and when the data was last updated. The app fetches the freshest TLE from CelesTrak just before 
      doing any calculations.
    </p>
    <p>
      SGP4 is the standard library that takes those two lines and a timestamp (I use the current UTC time) and 
      returns a position vector <code>(x, y, z)</code> plus a velocity vector <code>(vx, vy, vz)</code> in the 
      satellite’s own coordinate frame, called TEME. Think of TEME as “orbit space” – super accurate for physics, 
      but not easy to plot on a map yet.
    </p>
    <p>
      Because Earth spins, we need to rotate that TEME vector by the current Greenwich Mean Sidereal Time 
      (basically “how far the planet has spun today”). After the rotation we have an ECEF vector that lines 
      up with Earth’s axes instead of the orbit’s axes.
    </p>
    <p>
      Then I feed the rotated vector into a converter that outputs human-friendly numbers. That is, latitude, 
      longitude, and altitude. Example: if SGP4 says the ISS is at <code>(6524, -686, 0)</code> km in TEME, 
      we turn that into <code>53° N, 32° E, 420 km up</code>, which is what you need for a map.
    </p>
    <p>
      Then the API wraps the current position, speed, and timestamp into JSON so the UI can show the dot moving 
      across Earth in real time.
    </p>
  </section>

  <script src="{% static 'satellites/home.js' %}"></script>
</body>
 </html>
